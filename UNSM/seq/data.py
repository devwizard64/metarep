import main

import UNSM.asm

################################################################################
# Main/Game
################################################################################

main_seq = [
	[main.f_str, "#include <sm64/seqlang.h>\n\n.data\n\n"],
	[main.f_str, "#define STAGE   STAGE_NULL\n\n"],
	[UNSM.asm.f_seqlang, "E0.Main", 0x10000000, 0x1000000C],
	[main.f_str, "\tseqSet(STAGE)\n"],
	[main.f_str, "#if STAGE == STAGE_NULL\n"],
	[UNSM.asm.f_seqlang, "E0.Main", 0x10000010, 0x10000020],
	[main.f_str, "#else\n"],
	[main.f_str, "\tseqExecute(SEG_GAME, _GameSegmentRomStart, _GameSegmentRomEnd, seq_game)\n"],
	[main.f_str, "#endif\n"],
	[UNSM.asm.f_seqlang, "E0.Main", 0x10000020, 0x10000028],
]

game_seq = [
	[main.f_str, "#include <sm64/seqlang.h>\n\n.data\n\n"],
	[UNSM.asm.f_seqlang, "E0.Game", 0x15000000, 0x15000660],
	[main.f_str, "\n"],
	[main.f_str, "#include \"shape/3common/seq.sx\"\n"],
	[main.f_str, "#include \"shape/1a/seq.sx\"\n"],
	[main.f_str, "#include \"shape/1b/seq.sx\"\n"],
	[main.f_str, "#include \"shape/1c/seq.sx\"\n"],
	[main.f_str, "#include \"shape/1d/seq.sx\"\n"],
	[main.f_str, "#include \"shape/1e/seq.sx\"\n"],
	[main.f_str, "#include \"shape/1f/seq.sx\"\n"],
	[main.f_str, "#include \"shape/1g/seq.sx\"\n"],
	[main.f_str, "#include \"shape/1h/seq.sx\"\n"],
	[main.f_str, "#include \"shape/1i/seq.sx\"\n"],
	[main.f_str, "#include \"shape/1j/seq.sx\"\n"],
	[main.f_str, "#include \"shape/1k/seq.sx\"\n"],
	[main.f_str, "#include \"shape/2a/seq.sx\"\n"],
	[main.f_str, "#include \"shape/2b/seq.sx\"\n"],
	[main.f_str, "#include \"shape/2c/seq.sx\"\n"],
	[main.f_str, "#include \"shape/2d/seq.sx\"\n"],
	[main.f_str, "#include \"shape/2e/seq.sx\"\n"],
	[main.f_str, "#include \"shape/2f/seq.sx\"\n"],
]

seq = [
	[main.s_file, "data/main.sx", main_seq],
	[main.s_file, "data/game.sx", game_seq],
	[main.s_file, "shape/3common/seq.sx", [[UNSM.asm.f_seqlang, "E0.Game", 0x15000660, 0x1500071C]]],
	[main.s_file, "shape/1a/seq.sx", [[UNSM.asm.f_seqlang, "E0.Game", 0x1500071C, 0x15000750]]],
	[main.s_file, "shape/1b/seq.sx", [[UNSM.asm.f_seqlang, "E0.Game", 0x15000750, 0x1500076C]]],
	[main.s_file, "shape/1c/seq.sx", [[UNSM.asm.f_seqlang, "E0.Game", 0x1500076C, 0x15000788]]],
	[main.s_file, "shape/1d/seq.sx", [[UNSM.asm.f_seqlang, "E0.Game", 0x15000788, 0x150007B4]]],
	[main.s_file, "shape/1e/seq.sx", [[UNSM.asm.f_seqlang, "E0.Game", 0x150007B4, 0x150007E8]]],
	[main.s_file, "shape/1f/seq.sx", [[UNSM.asm.f_seqlang, "E0.Game", 0x150007E8, 0x1500080C]]],
	[main.s_file, "shape/1g/seq.sx", [[UNSM.asm.f_seqlang, "E0.Game", 0x1500080C, 0x15000830]]],
	[main.s_file, "shape/1h/seq.sx", [[UNSM.asm.f_seqlang, "E0.Game", 0x15000830, 0x1500084C]]],
	[main.s_file, "shape/1i/seq.sx", [[UNSM.asm.f_seqlang, "E0.Game", 0x1500084C, 0x15000888]]],
	[main.s_file, "shape/1j/seq.sx", [[UNSM.asm.f_seqlang, "E0.Game", 0x15000888, 0x150008A4]]],
	[main.s_file, "shape/1k/seq.sx", [[UNSM.asm.f_seqlang, "E0.Game", 0x150008A4, 0x150008D8]]],
	[main.s_file, "shape/2a/seq.sx", [[UNSM.asm.f_seqlang, "E0.Game", 0x150008D8, 0x15000914]]],
	[main.s_file, "shape/2b/seq.sx", [[UNSM.asm.f_seqlang, "E0.Game", 0x15000914, 0x15000958]]],
	[main.s_file, "shape/2c/seq.sx", [[UNSM.asm.f_seqlang, "E0.Game", 0x15000958, 0x1500099C]]],
	[main.s_file, "shape/2d/seq.sx", [[UNSM.asm.f_seqlang, "E0.Game", 0x1500099C, 0x150009C0]]],
	[main.s_file, "shape/2e/seq.sx", [[UNSM.asm.f_seqlang, "E0.Game", 0x150009C0, 0x150009DC]]],
	[main.s_file, "shape/2f/seq.sx", [[UNSM.asm.f_seqlang, "E0.Game", 0x150009DC, 0x15000A10]]],
]

################################################################################
# Anime
################################################################################

anime_stbl = [
	"0",
	"1",
	"2",
	"3",
	"4",
	"5",
	"6",
	"7",
	"8",
	"9",
	"10",
	"11",
	"12",
	"13",
	"14",
	"15",
	"16",
	"17",
	"18",
	"19",
	"20",
	"21",
	"22",
	"23",
	"24",
	"25",
	"26",
	"27",
	"28",
	"29",
	"30",
	"31",
	"32",
	"33",
	"34",
	"35",
	"36",
	"37",
	"38",
	"39",
	"40",
	"41",
	"42",
	"43",
	"44",
	"45",
	"46",
	"47",
	"48",
	"49",
	"50",
	"51",
	"52",
	"53",
	"54",
	"55",
	"56",
	"57",
	"58",
	"59",
	"60",
	"61",
	"62",
	"63",
	"64",
	"65",
	"66",
	"67",
	"68",
	"69",
	"70",
	"71",
	"72",
	"73",
	"74",
	"75",
	"76",
	"77",
	"78",
	"79",
	"80",
	"81",
	"82",
	"83",
	"84",
	"85",
	"86",
	"87",
	"88",
	"89",
	"90",
	"91",
	"92",
	"93",
	"94",
	"95",
	"96",
	"97",
	"98",
	"99",
	"100",
	"101",
	"102",
	"103",
	"104",
	"105",
	"106",
	"107",
	"108",
	"109",
	"110",
	"111",
	"112",
	"113",
	"114",
	"115",
	"116",
	"117",
	"118",
	"119",
	"120",
	"121",
	"122",
	"123",
	"124",
	"125",
	"126",
	"127",
	"128",
	"129",
	"130",
	"131",
	"132",
	"133",
	"134",
	"135",
	"136",
	"137",
	"138",
	"139",
	"140",
	"141",
	"142",
	"143",
	"144",
	"145",
	"146",
	"147",
	"148",
	"149",
	"150",
	"151",
	"152",
	"153",
	"154",
	"155",
	"156",
	"157",
	"158",
	"159",
	"160",
	"161",
	"162",
	"163",
	"164",
	"165",
	"166",
	"167",
	"168",
	"169",
	"170",
	"171",
	"172",
	"173",
	"174",
	"175",
	"176",
	"177",
	"178",
	"179",
	"180",
	"181",
	"182",
	"183",
	"184",
	"185",
	"186",
	"187",
	"188",
	"189",
	"190",
	"191",
	"192",
	"193",
	"194",
	"195",
	"196",
	"197",
	"198",
	"199",
	"200",
	"201",
	"202",
	"203",
	"204",
	"205",
	"206",
	"207",
	"208",
]

anime_ctbl = {
	1: "1_2",
	2: "1_2",
	7: "7_8",
	8: "7_8",
	11: "11_12",
	12: "11_12",
	15: "15_16",
	16: "15_16",
	44: "44_45",
	45: "44_45",
	60: "60_61",
	61: "60_61",
	69: "69_70",
	70: "69_70",
	77: "77_78",
	78: "77_78",
	86: "86_87",
	87: "86_87",
	111: "111_112",
	112: "111_112",
	114: "114_115",
	115: "114_115",
	136: "136_137",
	137: "136_137",
	142: "142_143",
	143: "142_143",
	181: "181_182",
	182: "181_182",
	188: "188_189",
	189: "188_189",
	203: "203_204",
	204: "203_204",
}


str_anime = """
#include <sm64/defshape.h>
#include <sm64/bank.h>

#define ANIME(anime, flag, waist, start, loop, frame, joint) \\
	.short flag, waist, start, loop, frame, joint; \\
	.word anime##_val - anime; \\
	.word anime##_tbl - anime; \\
	.word anime##_end - anime

.data

"""

anime = [
	[main.f_str, str_anime],
	[UNSM.asm.f_anime, "E0.Anime", 0x0008DC18, "anime", (anime_stbl, anime_ctbl)],
]

seq_anime = [
	[main.s_file, "data/anime.sx", anime],
]

################################################################################
# Demo
################################################################################

demo_stbl = [
	"bitdwa",
	"wf",
	"ccm",
	"bbh",
	"jrb",
	"hmc",
	"pss",
]

demo_ctbl = {
}

str_demo = """
#include <sm64/defstage.h>
#include <sm64/bank.h>

#define DEMO(stage) .byte stage, 0, 0, 0

.data

"""

demo = [
	[main.f_str, str_demo],
	[UNSM.asm.f_demo, "E0.Demo", 0x00001B00, "demo", (demo_stbl, demo_ctbl)],
]

seq_demo = [
	[main.s_file, "data/demo.sx", demo],
]
